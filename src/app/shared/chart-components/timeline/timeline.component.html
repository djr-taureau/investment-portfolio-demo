<div #container
     class="card">
    <div fxLayout="row"
         fxLayoutAlign="start stretch"
         fxLayoutGap="3px">
        <div class="actuals-button">
            <button kendoButton
                    (click)="toggleVisibilty('actuals')"
                    [imageUrl]="'../../../assets/image/legend-actual.svg'"
                    class="actuals-dot">Actuals</button>
        </div>
        <div class="budget-button">
            <button kendoButton
                    (click)="toggleVisibilty('budget')"
                    [imageUrl]="'../../assets/image/legend-mgmt-bud.svg'"
                    class="budget-dot">Mgmt Budget</button>
        </div>
        <div class="forecast-button">
            <button kendoButton
                    (click)="toggleVisibilty('forecast')"
                    [imageUrl]="'../../assets/image/legend-mgmt-fcst.svg'"
                    class="forecast-dot">Mgmt Forecast</button>
        </div>
    </div>
    <sbp-chart [dimensions]="dimensions">
        <svg:defs>
            <svg:g sbpGradient
                   [id]="gradientId"
                   [colors]="gradientColors"
                   x2="0"
                   y2="100%">
            </svg:g>
        </svg:defs>
        <svg:g sbpAxis
               dimension="x"
               [dimensions]="dimensions"
               [scale]="xScale"
               [formatTick]="formatDate"
               [label]="label"
               [xAxisVisible]="true">
            </g>
            <svg:g sbpAxis
                   dimension="y"
                   [dimensions]="dimensions"
                   [scale]="yScale"
                   [label]="'REVENUE ($M)'"
                   [yAxisVisible]="true">
                </g>
                <svg:g sbpLine
                       [type]="'area'"
                       [data]="data"
                       [xAccessor]="xAccessorScaled"
                       [yAccessor]="yAccessorScaled"
                       [y0Accessor]="y0AccessorScaled"
                       fill="url(#{{ gradientId }})">
                </svg:g>
                <!-- actuals -->
                <ng-container *ngIf="actualsVis">
                    <svg:g sbpLine
                           class="actuals"
                           [type]="'line'"
                           [valueType]="'actuals'"
                           [data]="actuals"
                           [visible]="actualsVis"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="yAccessorScaled">
                    </svg:g>

                    <svg:g sbpCircles
                           class="dot"
                           [data]="actuals"
                           [valueType]="'actuals'"
                           [radius]="4"
                           [visible]="actualsVis"
                           [keyAccessor]="keyAccessor"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="yAccessorScaled">
                    </svg:g>
                </ng-container>
                <!-- budget -->
                <ng-container *ngIf="budgetVis">
                    <svg:g sbpLine
                           class="budget"
                           [type]="'line'"
                           [valueType]="'budget'"
                           [data]="budget"
                           [visible]="budgetVis"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="budgetAccessorScaled">
                    </svg:g>
                    <svg:g sbpCircles
                           [data]="budget"
                           [radius]="3"
                           [valueType]="'budget'"
                           [visible]="budgetVis"
                           [keyAccessor]="keyAccessor"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="budgetAccessorScaled">
                    </svg:g>
                </ng-container>
                <!-- forecast -->
                <ng-container *ngIf="forecastVis">
                    <svg:g sbpLine
                           class="forecast"
                           [type]="'line'"
                           [valueType]="'forecast'"
                           [visible]="forecastVis"
                           [data]="forecast"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="forecastAccessorScaled">
                    </svg:g>
                    <svg:g sbpCircles
                           class="dot forecast"
                           [data]="forecast"
                           [valueType]="'forecast'"
                           [visible]="forecastVis"
                           [radius]="2"
                           [keyAccessor]="keyAccessor"
                           [xAccessor]="xAccessorScaled"
                           [yAccessor]="forecastAccessorScaled">
                    </svg:g>
                </ng-container>
    </sbp-chart>
</div>
